<!DOCTYPE html>
<html lang="sv">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Bildbank | NP-Guiden</title>
   <script src="https://cdn.tailwindcss.com"></script>
   <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;600;700;800&display=swap" rel="stylesheet">
   <style>
       body {
           font-family: 'Plus Jakarta Sans', sans-serif;
           background-color: #0b0f19;
           overflow: hidden; /* Förhindra scroll när man kollar på bilder */
       }
      
       .glass {
           background: rgba(19, 24, 40, 0.8);
           backdrop-filter: blur(12px);
           border: 1px solid rgba(255, 255, 255, 0.08);
       }


       .glass-panel {
           background: rgba(15, 19, 30, 0.6);
           backdrop-filter: blur(10px);
           border: 1px solid rgba(139, 92, 246, 0.1);
           box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
       }


       .hero-gradient {
           background: radial-gradient(circle at top center, #581c87 0%, transparent 60%),
                       radial-gradient(circle at bottom right, #312e81 0%, transparent 50%);
           background-attachment: fixed;
       }


       /* Dölj scrollbar men tillåt funktion */
       .no-scrollbar::-webkit-scrollbar {
           display: none;
       }
       .no-scrollbar {
           -ms-overflow-style: none;
           scrollbar-width: none;
       }


       /* Animation för bildbyte */
       .fade-in {
           animation: fadeIn 0.3s ease-in-out;
       }
       @keyframes fadeIn {
           from { opacity: 0; transform: scale(0.98); }
           to { opacity: 1; transform: scale(1); }
       }
   </style>
</head>
<body class="text-slate-200 antialiased h-screen flex flex-col relative">


   <!-- Bakgrund -->
   <div class="fixed inset-0 z-[-1] hero-gradient"></div>
   <div class="fixed top-0 left-0 w-full h-full z-[-1] opacity-20" style="background-image: url('data:image/svg+xml,%3Csvg width=\'60\' height=\'60\' viewBox=\'0 0 60 60\' xmlns=\'http://www.w3.org/2000/svg\'%3E%3Cg fill=\'none\' fill-rule=\'evenodd\'%3E%3Cg fill=\'%239C92AC\' fill-opacity=\'0.1\'%3E%3Cpath d=\'M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z\'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');"></div>

      
       <div class="text-lg font-bold text-white flex items-center gap-2">
           <span class="bg-blue-600 w-8 h-8 rounded-lg flex items-center justify-center text-xs shadow-lg shadow-blue-500/30">
               <svg class="w-4 h-4 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
           </span>
           <span>Bildbank</span>
       </div>


       <div class="w-20 flex justify-end">
           <!-- Bildräknare -->
           <span id="counter" class="text-xs font-mono bg-white/10 px-2 py-1 rounded text-slate-300">1 / 12</span>
       </div>
   </nav>


   <!-- Main Content -->
   <main class="flex-grow flex flex-col items-center justify-center p-4 relative w-full h-full overflow-hidden">
      
       <!-- Image Container -->
       <div class="relative w-full h-full max-w-6xl max-h-[85vh] glass-panel rounded-2xl flex items-center justify-center p-2 sm:p-4 overflow-hidden group">
          
           <!-- Laddar-indikator (visas innan bild laddats) -->
           <div id="loader" class="absolute inset-0 flex items-center justify-center z-0">
               <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-violet-500"></div>
           </div>


           <!-- Error State (Om bild saknas) -->
           <div id="error-state" class="hidden absolute inset-0 flex flex-col items-center justify-center z-10 text-center p-6">
               <div class="w-24 h-24 bg-white/5 rounded-full flex items-center justify-center mb-4 text-slate-600">
                   <svg class="w-10 h-10" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path></svg>
               </div>
               <h3 class="text-xl font-bold text-slate-300">Bild saknas</h3>
               <p class="text-slate-500 mt-2 text-sm">Kunde inte ladda: <span id="missing-filename" class="font-mono text-violet-400">filename.png</span></p>
               <p class="text-slate-600 text-xs mt-4 max-w-md">Se till att bildfilen ligger i samma mapp som denna HTML-fil.</p>
           </div>


           <!-- Bilden -->
           <img id="main-image" src="" alt="Fysikbild" class="relative z-10 max-w-full max-h-full object-contain shadow-2xl rounded-lg transition-transform duration-300">
          
           <!-- Caption overlay -->
           <div class="absolute bottom-0 left-0 w-full p-4 bg-gradient-to-t from-black/80 to-transparent z-20 translate-y-full group-hover:translate-y-0 transition-transform duration-300">
               <p id="image-caption" class="text-center text-white font-medium text-lg"></p>
               <p id="image-filename" class="text-center text-slate-400 text-xs font-mono mt-1"></p>
           </div>
       </div>


       <!-- Navigation Buttons (Overlay) -->
       <button onclick="changeImage(-1)" class="absolute left-4 top-1/2 -translate-y-1/2 z-30 w-12 h-12 rounded-full glass flex items-center justify-center text-white hover:bg-violet-600 hover:border-violet-500 transition-all hover:scale-110 active:scale-95 group focus:outline-none focus:ring-2 focus:ring-violet-400">
           <svg class="w-6 h-6 group-hover:-translate-x-0.5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
       </button>


       <button onclick="changeImage(1)" class="absolute right-4 top-1/2 -translate-y-1/2 z-30 w-12 h-12 rounded-full glass flex items-center justify-center text-white hover:bg-violet-600 hover:border-violet-500 transition-all hover:scale-110 active:scale-95 group focus:outline-none focus:ring-2 focus:ring-violet-400">
           <svg class="w-6 h-6 group-hover:translate-x-0.5 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg>
       </button>


   </main>


   <script>
       // Bildlista enligt önskemål
       const images = [
           { file: 'materia.png', title: 'Materia & Värme' },
           { file: 'kraft.png', title: 'Krafter & Rörelse' },
           { file: 'el1.png', title: 'Elektricitet Del 1' },
           { file: 'el2.png', title: 'Elektricitet Del 2' },
           { file: 'ljud.png', title: 'Ljudvågor & Akustik' },
           { file: 'ljus.png', title: 'Ljus & Optik' },
           { file: 'astronomi.png', title: 'Astronomi' },
           { file: 'energi1.png', title: 'Energi Del 1' },
           { file: 'energi2.png', title: 'Energi Del 2' },
           { file: 'atomfysik.png', title: 'Atomfysik' },
           { file: 'kallkritik.png', title: 'Källkritik' },
           { file: 'undersokningar.png', title: 'Undersökningar' }
       ];


       let currentIndex = 0;
      
       const imgElement = document.getElementById('main-image');
       const counterElement = document.getElementById('counter');
       const loaderElement = document.getElementById('loader');
       const errorElement = document.getElementById('error-state');
       const missingFilenameElement = document.getElementById('missing-filename');
       const captionElement = document.getElementById('image-caption');
       const filenameElement = document.getElementById('image-filename');


       function loadImage() {
           // Reset states
           imgElement.style.opacity = '0';
           loaderElement.style.display = 'flex';
           errorElement.classList.add('hidden');
          
           const currentImg = images[currentIndex];


           // Uppdatera info
           counterElement.innerText = `${currentIndex + 1} / ${images.length}`;
           captionElement.innerText = currentImg.title;
           filenameElement.innerText = currentImg.file;


           // Sätt bildkällan
           imgElement.src = currentImg.file;
          
           // Hantera fel (om bilden inte finns lokalt)
           imgElement.onerror = function() {
               loaderElement.style.display = 'none';
               imgElement.style.display = 'none';
               errorElement.classList.remove('hidden');
               missingFilenameElement.innerText = currentImg.file;
           };


           // Hantera succé
           imgElement.onload = function() {
               loaderElement.style.display = 'none';
               imgElement.style.display = 'block';
               // Liten delay för fade-in effekt
               setTimeout(() => {
                   imgElement.style.opacity = '1';
                   imgElement.classList.add('fade-in');
                   setTimeout(() => imgElement.classList.remove('fade-in'), 300);
               }, 50);
           };
       }


       function changeImage(direction) {
           currentIndex += direction;
          
           // Loopa runt
           if (currentIndex >= images.length) currentIndex = 0;
           if (currentIndex < 0) currentIndex = images.length - 1;


           loadImage();
       }


       // Tangentbordsstyrning
       document.addEventListener('keydown', (e) => {
           if (e.key === 'ArrowRight') changeImage(1);
           if (e.key === 'ArrowLeft') changeImage(-1);
           if (e.key === 'Escape') window.location.href = 'index.html';
       });


       // Touch Swipe (Enkel implementering)
       let touchStartX = 0;
       let touchEndX = 0;


       document.addEventListener('touchstart', e => {
           touchStartX = e.changedTouches[0].screenX;
       });


       document.addEventListener('touchend', e => {
           touchEndX = e.changedTouches[0].screenX;
           handleSwipe();
       });


       function handleSwipe() {
           if (touchEndX < touchStartX - 50) changeImage(1); // Swipe vänster -> Nästa
           if (touchEndX > touchStartX + 50) changeImage(-1); // Swipe höger -> Föregående
       }


       // Initiera första bilden
       loadImage();
   </script>
</body>
</html>
